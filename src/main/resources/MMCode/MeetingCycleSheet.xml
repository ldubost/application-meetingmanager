<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc>
<web>MMCode</web>
<name>MeetingCycleSheet</name>
<language></language>
<defaultLanguage>en</defaultLanguage>
<translation>0</translation>
<parent></parent>
<creator>XWiki.Admin</creator>
<author>XWiki.Admin</author>
<customClass></customClass>
<contentAuthor>XWiki.Admin</contentAuthor>
<creationDate>1254007991000</creationDate>
<date>1255883026000</date>
<contentUpdateDate>1255883026000</contentUpdateDate>
<version>2.1</version>
<title></title>
<template></template>
<defaultTemplate></defaultTemplate>
<validationScript></validationScript>
<comment></comment>
<minorEdit>false</minorEdit>
<syntaxId>xwiki/2.0</syntaxId>
<hidden>false</hidden>
<object>
<class>
<name>XWiki.TagClass</name>
<customClass></customClass>
<customMapping></customMapping>
<defaultViewSheet></defaultViewSheet>
<defaultEditSheet></defaultEditSheet>
<defaultWeb></defaultWeb>
<nameField></nameField>
<validationScript></validationScript>
<tags>
<cache>0</cache>
<displayType>checkbox</displayType>
<multiSelect>1</multiSelect>
<name>tags</name>
<number>1</number>
<prettyName>Tags</prettyName>
<relationalStorage>1</relationalStorage>
<separator> </separator>
<separators> ,|</separators>
<size>30</size>
<unmodifiable>0</unmodifiable>
<values></values>
<classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
</tags>
</class>
<name>MMCode.MeetingCycleSheet</name>
<number>0</number>
<className>XWiki.TagClass</className>
<guid>ad7cd2da-2740-46ca-bdbb-2c5dbbb8b8dd</guid>
<property>
<tags/>
</property>
</object>
<content>{{velocity filter="none"}}
## SX includes.
##
#set($ok = $xwiki.ssx.use("MMCode.MeetingManager"))
#set($ok = $xwiki.jsx.use("MMCode.MeetingManager"))
#set($ok = $xwiki.jsx.use("XWiki.ModalBox"))
#set($ok = $xwiki.ssx.use("XWiki.ModalBox"))
#set($ok = $xwiki.jsx.use("XWiki.DatePickerExtension"))
#set($ok = $xwiki.ssx.use("XWiki.DatePickerExtension"))
{{html clean="false" wiki="true"}}
= $msg.get('meetings.cycles.listofcycles') =
&lt;div class="meetingcycleslist"&gt;
#if(!$showallspaces)
#set($extra = " and doc.space='${doc.space}'")
#end
#set($cycles = $xwiki.searchDocuments(", BaseObject as obj where obj.name=doc.fullName and obj.className='MMCode.MeetingCycleClass' and doc.fullName&lt;&gt;'MMCode.MeetingCycleClassTemplate' $!extra"))

&lt;ul&gt;
#foreach($cycle in $cycles)
 #set($c = $xwiki.getDocument($cycle))
 #set($cobj = $c.getObject("MMCode.MeetingCycleClass"))
&lt;li#if($cycle == "$request.cycle") class="current"#end&gt; [[$cobj.get('name')&gt;&gt;${doc.fullName}?cycle=$cycle]] &lt;a href="$c.getURL('inline')" class="edit"&gt;$msg.get('meetings.cycles.editcycle')&lt;/a&gt;  &lt;a class="delete" href="$c.getURL('delete')"&gt;$msg.get('meetings.cycles.deletecycle')&lt;/a&gt;&lt;/li&gt;
#end
&lt;/div&gt;
#if("$!request.cycle" != "")
&lt;div class="meetingcyclesdisplay"&gt;
{{include document="$request.cycle" context="new"/}}
&lt;/div&gt;
#end
{{/html}}
{{/velocity}}</content>
</xwikidoc>
